<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evolution & Biology Study Guide</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #f4f4f4; }
        .container { width: 80%; margin: auto; padding: 20px; }
        .section { display: none; background: white; padding: 20px; border-radius: 10px; box-shadow: 0px 0px 10px gray; }
        button { margin: 10px; padding: 10px 20px; font-size: 16px; }
        .quiz-container { text-align: left; }
        .feedback { font-size: 24px; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Evolution & Biology Study Guide</h1>
        <button onclick="showSection('notes')">Study Notes</button>
        <button onclick="showSection('flashcards')">Flashcards</button>
        <button onclick="showSection('quiz')">Practice Quiz</button>

        <div id="notes" class="section">
            <h2>Study Notes</h2>
            <p><b>Cell Theory:</b> All living organisms are composed of cells, which are the basic unit of life and arise from pre-existing cells.</p>
            <p><b>Macromolecules:</b> Carbohydrates provide energy, proteins build structures, lipids store energy, and nucleic acids (DNA/RNA) carry genetic information.</p>
            <p><b>Genetics:</b> DNA consists of nucleotides (A, T, C, G). The Punnett square predicts inheritance of traits.</p>
            <p><b>Evolution:</b> Natural selection drives changes in populations over generations, leading to adaptation and speciation.</p>
            <p><b>Ecology:</b> Ecosystems consist of producers, consumers, and decomposers interacting within biogeochemical cycles.</p>
        </div>

        <div id="flashcards" class="section">
            <h2>Flashcards</h2>
            <p id="flashcardFront">Click to Flip</p>
            <p id="flashcardBack" style="display:none;">Definition</p>
            <button onclick="flipFlashcard()">Flip</button>
            <button onclick="nextFlashcard()">Next</button>
        </div>

        <div id="quiz" class="section quiz-container">
            <h2>Practice Quiz</h2>
            <p id="quizQuestion"></p>
            <div id="quizOptions"></div>
            <button onclick="submitAnswer()">Submit</button>
            <p class="feedback" id="feedback"></p>
            <button onclick="promptEmail()" style="display:none;" id="emailButton">Email Wrong Answers</button>
        </div>
    </div>

    <script>
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => section.style.display = 'none');
            document.getElementById(sectionId).style.display = 'block';
        }

        let flashcards = [
            {question: "What is the basic unit of life?", answer: "The cell."},
            {question: "What is the powerhouse of the cell?", answer: "Mitochondria."},
            {question: "What is the function of ribosomes?", answer: "Protein synthesis."}
        ];
        let currentCard = 0;

        function flipFlashcard() {
            let front = document.getElementById("flashcardFront");
            let back = document.getElementById("flashcardBack");
            if (front.style.display !== "none") {
                front.style.display = "none";
                back.style.display = "block";
            } else {
                front.style.display = "block";
                back.style.display = "none";
            }
        }

        function nextFlashcard() {
            currentCard = (currentCard + 1) % flashcards.length;
            document.getElementById("flashcardFront").innerText = flashcards[currentCard].question;
            document.getElementById("flashcardBack").innerText = flashcards[currentCard].answer;
        }

        let quizQuestions = [
            {question: "What is evolution?", options: ["A sudden change", "Gradual change over time", "Random mutation"], correct: 1},
            {question: "What is an example of adaptation?", options: ["Learning a language", "Camouflage", "Eating food"], correct: 1}
        ];
        let currentQuestion = 0;
        let wrongAnswers = [];

        function loadQuestion() {
            let q = quizQuestions[currentQuestion];
            document.getElementById("quizQuestion").innerText = q.question;
            let optionsHtml = "";
            q.options.forEach((opt, index) => {
                optionsHtml += `<input type='radio' name='quiz' value='${index}'> ${opt}<br>`;
            });
            document.getElementById("quizOptions").innerHTML = optionsHtml;
        }

        function submitAnswer() {
            let selected = document.querySelector("input[name='quiz']:checked");
            if (!selected) return;
            let isCorrect = selected.value == quizQuestions[currentQuestion].correct;
            document.getElementById("feedback").innerText = isCorrect ? "ðŸŽ‰ Correct!" : "ðŸ˜ž Wrong!";
            if (!isCorrect) {
                wrongAnswers.push(quizQuestions[currentQuestion].question + " - Your Answer: " + quizQuestions[currentQuestion].options[selected.value]);
            }
            currentQuestion++;
            if (currentQuestion < quizQuestions.length) {
                setTimeout(loadQuestion, 2000);
            } else {
                document.getElementById("emailButton").style.display = 'block';
            }
        }

        function promptEmail() {
            if (wrongAnswers.length === 0) {
                alert("Great job! No wrong answers to email.");
                return;
            }
            let email = prompt("Enter your email address to receive your wrong answers:");
            if (!email) return;
            sendEmail(email);
        }

        function sendEmail(email) {
            let subject = "Your Wrong Answers from the Evolution & Biology Quiz";
            let body = "Here are the questions you got wrong:\n\n" + wrongAnswers.join("\n");
            let mailtoLink = `mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            window.location.href = mailtoLink;
        }

        loadQuestion();
    </script>
</body>
</html>
