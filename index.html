<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biology Study Hub</title>
    <style>
        body { font-family: 'Arial', sans-serif; text-align: center; background-color: #1e1e2f; color: #ffffff; margin: 0; }
        .container { width: 90%; max-width: 800px; margin: auto; padding: 20px; }
        .section { display: none; background: #292942; padding: 20px; border-radius: 10px; box-shadow: 0px 0px 10px #9b59b6; }
        .btn { margin: 10px; padding: 15px 30px; font-size: 18px; border: none; border-radius: 10px; cursor: pointer; transition: 0.3s; }
        .btn:hover { transform: scale(1.1); }
        .btn-study { background: #ff4757; color: white; }
        .btn-flashcards { background: #1e90ff; color: white; }
        .btn-quiz { background: #2ecc71; color: white; }
        .quiz-container { text-align: left; }
        .feedback { font-size: 24px; margin-top: 10px; }
        .timer { font-size: 18px; color: #ffcc00; }
        .leaderboard { margin-top: 20px; background: #353567; padding: 15px; border-radius: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="color: #ffcc00;">Biology Study Hub 🚀</h1>
        <button class="btn btn-study" onclick="showSection('notes')">📘 Study Notes</button>
        <button class="btn btn-flashcards" onclick="showSection('flashcards')">🎴 Flashcards</button>
        <button class="btn btn-quiz" onclick="showSection('quiz')">🧠 Practice Quiz</button>
        
        <div id="quiz" class="section quiz-container">
            <h2>🧠 Practice Quiz</h2>
            <p class="timer">⏳ Time Left: <span id="countdown">30</span> sec</p>
            <p id="quizQuestion"></p>
            <div id="quizOptions"></div>
            <iframe id="khanVideo" width="560" height="315" style="display:none; margin-top: 20px;" frameborder="0" allowfullscreen></iframe>
            <button class="btn btn-quiz" onclick="submitAnswer()">Submit</button>
            <p class="feedback" id="feedback"></p>
            <button class="btn" onclick="promptEmail()" style="display:none;" id="emailButton">📧 Email Wrong Answers</button>
            <div class="leaderboard"><h3>🏆 Leaderboard</h3><p id="leaderboardScores">No scores yet</p></div>
        </div>
    </div>

    <script>
        let quizQuestions = [
            {
                question: "What is the powerhouse of the cell?",
                options: ["Nucleus", "Mitochondria", "Ribosome"],
                correct: 1,
                video: "https://www.youtube.com/embed/1Z9pqST72is" 
            },
            {
                question: "What process converts light energy into chemical energy?",
                options: ["Respiration", "Photosynthesis", "Fermentation"],
                correct: 1,
                video: "https://www.youtube.com/embed/3UqJ1MGeYkY"
            }
        ];
        let currentQuestion = 0;

        function loadQuestion() {
            let q = quizQuestions[currentQuestion];
            document.getElementById("quizQuestion").innerText = q.question;
            document.getElementById("khanVideo").src = q.video;
            document.getElementById("khanVideo").style.display = "block";
            let optionsHtml = "";
            q.options.forEach((opt, index) => {
                optionsHtml += `<input type='radio' name='quiz' value='${index}'> ${opt}<br>`;
            });
            document.getElementById("quizOptions").innerHTML = optionsHtml;
        }

        function submitAnswer() {
            let selected = document.querySelector("input[name='quiz']:checked");
            if (!selected) return;
            let isCorrect = selected.value == quizQuestions[currentQuestion].correct;
            document.getElementById("feedback").innerText = isCorrect ? "🎉 Correct!" : "😞 Wrong!";
            currentQuestion++;
            if (currentQuestion < quizQuestions.length) setTimeout(loadQuestion, 2000);
        }

        loadQuestion();
    </script>
</body>
</html>
